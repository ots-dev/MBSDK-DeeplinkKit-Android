static Properties loadProperties(String filePath) {
    Properties properties = new Properties()
    loadProperties(filePath, properties)
    return properties
}

static void loadProperties(String filePath, Properties properties) {
    checkParameters(filePath, properties)
    propertiesFromFile(filePath, properties)
}

private static void propertiesFromFile(String fileName, Properties properties) throws Exception {
    FileReader reader = new FileReader(new File(fileName))
    properties.load(reader)
    reader.close()
}

private static void checkParameters(String filePath, Properties properties) {
    if (filePath == null) throw new RuntimeException("You need to provide a filePath.")
    if (properties == null) throw new RuntimeException("You need to provide properties to receive task output.")
}

ext {
    loadProperties = this.&loadProperties
}